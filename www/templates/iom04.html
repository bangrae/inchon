<ion-view title="검침등록">
    <ion-content overflow-scroll="true" padding="true" class="has-header"> 
        <form class="list" ng-controller="iomCtrl4">
            <label class="item item-input">
                {{item.SECTOR_NM}}<br />
                {{item.ADDR}}
            </label>
            <div>
                <p></p>
            </div>       

            <div class="row header">
                <div class="col">구분</div>
                <div class="col">전월</div>
                <div class="col">당월</div>                
            </div>

            <div class="row">
                <div class="col">검침구분</div>
                <div class="col"></div>
                <div class="col"><select name="mySelectOD" id="mySelectOD"
                    ng-options="option.name for option in sitems.iomod track by option.id"
                    ng-model="sitem.iomod"></select></div>                             
            </div>
            <div class="row">
                <div class="col">검침코드</div>
                <div class="col"></div>
                <div class="col"><select name="mySelectCD" id="mySelectCD"
                    ng-options="option.name for option in sitems.iomcd track by option.id"
                    ng-model="sitem.iomcd"></select></div>                             
            </div>
            <div class="row">
                <div class="col">지침</div>
                <div class="col">{{lMonItems.GAG}}</div>
                <div class="col"><input type="text" ng-model="item.GAG" /></div>                             
            </div>
            <div class="row">
                <div class="col">사용량</div>
                <div class="col"></div>
                <div class="col">{{parseInt(item.GAG) - parseInt(lMonItems.GAG)}}</div>                             
            </div>
            <hr />

            <div class="row">
                <div class="col">고객</div>
                <div class="col">{{item.CUST_CD}}</div>
                <div class="col">{{item.CUST_NM}}</div>                             
            </div>
            <div class="row">
                <div class="col">사용</div>
                <div class="col">개별난방</div>
                <div class="col">자동이체</div>                             
            </div>
            <button class="button button-stable button-block " ng-click="doSaveIOM()">저장</button>
            
            <hr />
            <div class="button-bar">
                <button class="button button-stable button-block " ui-sref="app.custDetail({custCD:item.CUST_CD})">고객</button>
                <button class="button button-stable button-block" ui-sref="app.meter">계량기</button>
                <button class="button button-stable button-block" ng-click="openModal()">계산</button>
                <button class="button button-stable button-block">미납</button>
            </div>            
        </form>
    </ion-content>
    <script id="my-modal.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar>
                <h1 class="title">요금 계산 조회</h1>
            </ion-header-bar>
            <ion-content>
                <label class="item item-input">
                    <div class="row">
                        <div class="col">사용요금</div>
                        <div class="col">{{(parseInt(item.GAG) - parseInt(lMonItems.GAG))*14.58}}</div>
                    </div>
                </label>
                <br />
                <div>
                본 사용요금은 고객에게 안내하기 위한 참고 정보이며 상세한 요금은 고객서비스센터로 확인하시기 바랍니다.
                </div>
                <p><button class="button button-full" ng-click="closeModal()">확인</button></p>
            </ion-content>
        </ion-modal-view>
    </script>
</ion-view>
<style type="text/css">
.header .col {
    background-color:lightgrey;
}

.col {
    border: solid 1px white;
    border-bottom-style: none;
    border-right-style: none;
} 
.color0 {
    background-color: lightyellow;
}

.color1 {
    background-color: lightblue;
}

</style>